---
  - name: Check the remote host uptime
    hosts: all
    tasks:
      - name: Execute the Uptime command over Command module
        become: true 
        register: uptimeoutput
        command: "uptime"

      - debug:
          var: uptimeoutput.stdout_lines
          
  - name: Copying jar to remote EC2 container
    hosts: all
    tasks:
      - name: Copying jar with playbook
        become: true
        copy:
          src: ../dwptest/target/dwptest-0.0.1-SNAPSHOT.jar
          dest: /home/ec2-user
          owner: ec2-user
          group: ec2-user
          mode: 0644
          
 - name: Install Docker CE
   hosts: all
   tasks:
     - name: Install docker
       become: true
       apt:
         name: ['docker-ce', 'docker-ce-cli, 'containerd.io']
         update_cache: yes
     
  
        
